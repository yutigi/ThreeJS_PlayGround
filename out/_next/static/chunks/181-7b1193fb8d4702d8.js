"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{1181:function(e,s,i){i.d(s,{D:function(){return A}});var t=i(2212),r=i(9365),n=i(1217),y=i(6591),a=i(4065),o=i(4458),K=i(1259),c=i(3659);function P(e,s){for(var i=0;i<s.length;i++){var t=s[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function h(e,s){return null!=s&&"undefined"!==typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](e):e instanceof s}var l=1,d={Amount:-.005},A=function(){function e(s){var i=this;!function(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,e),this.isPress={Backquote:!1,Digit1:!1,Digit2:!1,Digit3:!1,Digit4:!1,Digit5:!1,Digit6:!1,Digit7:!1,Digit8:!1,Digit9:!1,Digit0:!1,Minus:!1,Equal:!1,Backspace:!1,Q:!1,W:!1,E:!1,R:!1,T:!1,Y:!1,U:!1,I:!1,O:!1,P:!1,BracketLeft:!1,BracketRight:!1,Backslash:!1,A:!1,S:!1,D:!1,F:!1,G:!1,H:!1,J:!1,K:!1,L:!1,Semicolon:!1,Quote:!1,Enter:!1,Z:!1,X:!1,C:!1,V:!1,B:!1,N:!1,M:!1,Comma:!1,Period:!1,Slash:!1,Space:!1},this.KeyPressAction=function(e,s){i.KeyChronQ2Model.traverse((function(i){h(i,t.Kj0)&&(i.name!==e||s||(i.getObjectByName(e).position.y=i.getObjectByName(e).position.y+d.Amount,s=!0))}))},this.KeyReleaseAction=function(e,s){i.KeyChronQ2Model.traverse((function(i){h(i,t.Kj0)&&(i.name!==e||s||(i.getObjectByName(e).position.y=i.getObjectByName(e).position.y-d.Amount,s=!1))}))},this.KeyPress=function(e){console.log(e);e.key;var s=e.code;"KeyF"===s?i.KeyPressAction("Key_F",i.isPress.F):"KeyQ"===s?i.KeyPressAction("Key_Q",i.isPress.Q):"KeyW"===s?i.KeyPressAction("Key_W",i.isPress.W):"KeyE"===s?i.KeyPressAction("Key_E",i.isPress.E):"KeyR"==s?i.KeyPressAction("Key_R",i.isPress.R):"KeyT"==s?i.KeyPressAction("Key_T",i.isPress.T):"KeyY"==s?i.KeyPressAction("Key_Y",i.isPress.Y):"KeyU"==s?i.KeyPressAction("Key_U",i.isPress.U):"KeyI"==s?i.KeyPressAction("Key_I",i.isPress.I):"KeyO"==s?i.KeyPressAction("Key_O",i.isPress.O):"KeyP"==s?i.KeyPressAction("Key_P",i.isPress.Y):"BracketLeft"==s?i.KeyPressAction("Key_BracketLeft",i.isPress.BracketLeft):"BracketRight"==s?i.KeyPressAction("Key_BracketRight",i.isPress.BracketRight):"Backslash"==s?i.KeyPressAction("Key_Backslash",i.isPress.Backslash):"KeyA"==s?i.KeyPressAction("Key_A",i.isPress.A):"KeyS"==s?i.KeyPressAction("Key_S",i.isPress.S):"KeyD"==s?i.KeyPressAction("Key_D",i.isPress.D):"KeyG"==s?i.KeyPressAction("Key_G",i.isPress.G):"KeyH"==s?i.KeyPressAction("Key_H",i.isPress.H):"KeyJ"==s?i.KeyPressAction("Key_J",i.isPress.J):"KeyK"==s?i.KeyPressAction("Key_K",i.isPress.K):"KeyL"==s?i.KeyPressAction("Key_L",i.isPress.L):"Semicolon"==s?i.KeyPressAction("Key_;",i.isPress.Semicolon):"Quote"==s?i.KeyPressAction("Key_'",i.isPress.Quote):"Enter"==s?i.KeyPressAction("Key_Enter",i.isPress.Enter):"KeyZ"==s?i.KeyPressAction("Key_Z",i.isPress.Z):"KeyX"==s?i.KeyPressAction("Key_X",i.isPress.X):"KeyC"==s?i.KeyPressAction("Key_C",i.isPress.C):"KeyV"==s?i.KeyPressAction("Key_V",i.isPress.V):"KeyB"==s?i.KeyPressAction("Key_B",i.isPress.B):"KeyN"==s?i.KeyPressAction("Key_N",i.isPress.N):"KeyM"==s?i.KeyPressAction("Key_M",i.isPress.M):"Comma"==s?i.KeyPressAction("Key_<",i.isPress.Comma):"Period"==s?i.KeyPressAction("Key_>",i.isPress.Period):"Slash"==s?i.KeyPressAction("Key_Slash",i.isPress.Slash):"Digit1"==s?i.KeyPressAction("Key_1",i.isPress.Digit1):"Digit2"==s?i.KeyPressAction("Key_2",i.isPress.Digit2):"Digit3"==s?i.KeyPressAction("Key_3",i.isPress.Digit3):"Digit4"==s?i.KeyPressAction("Key_4",i.isPress.Digit4):"Digit5"==s?i.KeyPressAction("Key_5",i.isPress.Digit5):"Digit6"==s?i.KeyPressAction("Key_6",i.isPress.Digit6):"Digit7"==s?i.KeyPressAction("Key_7",i.isPress.Digit7):"Digit8"==s?i.KeyPressAction("Key_8",i.isPress.Digit8):"Digit9"==s?i.KeyPressAction("Key_9",i.isPress.Digit9):"Digit0"==s?i.KeyPressAction("Key_0",i.isPress.Digit0):"Minus"==s?i.KeyPressAction("Key_-",i.isPress.Minus):"Equal"==s?i.KeyPressAction("Key_=",i.isPress.Equal):"Backspace"==s||"Space"==s&&i.KeyPressAction("Key_Spacebar",i.isPress.Space)},this.KeyUp=function(e){e.key;var s=e.code;"KeyF"===s?i.KeyReleaseAction("Key_F",i.isPress.F):"KeyQ"===s?i.KeyReleaseAction("Key_Q",i.isPress.Q):"KeyW"===s?i.KeyReleaseAction("Key_W",i.isPress.W):"KeyE"===s?i.KeyReleaseAction("Key_E",i.isPress.E):"KeyR"==s?i.KeyReleaseAction("Key_R",i.isPress.R):"KeyT"==s?i.KeyReleaseAction("Key_T",i.isPress.T):"KeyY"==s?i.KeyReleaseAction("Key_Y",i.isPress.Y):"KeyU"==s?i.KeyReleaseAction("Key_U",i.isPress.U):"KeyI"==s?i.KeyReleaseAction("Key_I",i.isPress.I):"KeyO"==s?i.KeyReleaseAction("Key_O",i.isPress.O):"KeyP"==s?i.KeyReleaseAction("Key_P",i.isPress.Y):"BracketLeft"==s?i.KeyReleaseAction("Key_BracketLeft",i.isPress.BracketLeft):"BracketRight"==s?i.KeyReleaseAction("Key_BracketRight",i.isPress.BracketRight):"Backslash"==s?i.KeyReleaseAction("Key_Backslash",i.isPress.Backslash):"KeyA"==s?i.KeyReleaseAction("Key_A",i.isPress.A):"KeyS"==s?i.KeyReleaseAction("Key_S",i.isPress.S):"KeyD"==s?i.KeyReleaseAction("Key_D",i.isPress.D):"KeyG"==s?i.KeyReleaseAction("Key_G",i.isPress.G):"KeyH"==s?i.KeyReleaseAction("Key_H",i.isPress.H):"KeyJ"==s?i.KeyReleaseAction("Key_J",i.isPress.J):"KeyK"==s?i.KeyReleaseAction("Key_K",i.isPress.K):"KeyL"==s?i.KeyReleaseAction("Key_L",i.isPress.L):"Semicolon"==s?i.KeyReleaseAction("Key_;",i.isPress.Semicolon):"Quote"==s?i.KeyReleaseAction("Key_'",i.isPress.Quote):"Enter"==s?i.KeyReleaseAction("Key_Enter",i.isPress.Enter):"KeyZ"==s?i.KeyReleaseAction("Key_Z",i.isPress.Z):"KeyX"==s?i.KeyReleaseAction("Key_X",i.isPress.X):"KeyC"==s?i.KeyReleaseAction("Key_C",i.isPress.C):"KeyV"==s?i.KeyReleaseAction("Key_V",i.isPress.V):"KeyB"==s?i.KeyReleaseAction("Key_B",i.isPress.B):"KeyN"==s?i.KeyReleaseAction("Key_N",i.isPress.N):"KeyM"==s?i.KeyReleaseAction("Key_M",i.isPress.M):"Comma"==s?i.KeyReleaseAction("Key_<",i.isPress.Comma):"Period"==s?i.KeyReleaseAction("Key_>",i.isPress.Period):"Slash"==s?i.KeyReleaseAction("Key_Slash",i.isPress.Slash):"Digit1"==s?i.KeyReleaseAction("Key_1",i.isPress.Digit1):"Digit2"==s?i.KeyReleaseAction("Key_2",i.isPress.Digit2):"Digit3"==s?i.KeyReleaseAction("Key_3",i.isPress.Digit3):"Digit4"==s?i.KeyReleaseAction("Key_4",i.isPress.Digit4):"Digit5"==s?i.KeyReleaseAction("Key_5",i.isPress.Digit5):"Digit6"==s?i.KeyReleaseAction("Key_6",i.isPress.Digit6):"Digit7"==s?i.KeyReleaseAction("Key_7",i.isPress.Digit7):"Digit8"==s?i.KeyReleaseAction("Key_8",i.isPress.Digit8):"Digit9"==s?i.KeyReleaseAction("Key_9",i.isPress.Digit9):"Digit0"==s?i.KeyReleaseAction("Key_0",i.isPress.Digit0):"Minus"==s?i.KeyReleaseAction("Key_-",i.isPress.Minus):"Equal"==s?i.KeyReleaseAction("Key_=",i.isPress.Equal):"Backspace"==s||"Space"==s&&i.KeyReleaseAction("Key_Spacebar",i.isPress.Space)},this.windowResize=function(){i.windowsize.width=window.innerWidth,i.windowsize.height=window.innerHeight,i.camera.aspect=i.windowsize.width/i.windowsize.height,i.camera.updateProjectionMatrix(),i.composer.setSize(i.windowsize.width,i.windowsize.height),i.renderer.setSize(i.windowsize.width,i.windowsize.height)},this.UpdateRender=function(){requestAnimationFrame(i.UpdateRender),i.controls.update(),i.renderer.render(i.scene,i.camera),i.composer.render()},this.canvas=s,this.windowsize={width:window.innerWidth,height:window.innerHeight},this.init(),this.UpdateRender(),window.addEventListener("resize",this.windowResize),window.addEventListener("keypress",this.KeyPress),window.addEventListener("keyup",this.KeyUp)}var s,i,A;return s=e,(i=[{key:"init",value:function(){var e=this;this.renderer=new t.CP7({canvas:this.canvas,antialias:!0}),this.renderer.setSize(this.windowsize.width,this.windowsize.height),this.renderer.toneMapping=t.LY2,this.renderer.toneMappingExposure=l,this.renderer.physicallyCorrectLights=!0,this.renderer.shadowMap.type=t.ntZ,this.renderer.shadowMap.enabled=!0,this.scene=new t.xsS,this.camera=new t.cPb(50,this.windowsize.width/this.windowsize.height,.001,1e6),this.camera.position.set(0,4,5),this.camera.lookAt(0,0,0),this.composer=new a.xC(this.renderer),this.composer.setSize(this.windowsize.width,this.windowsize.height),this.renderPass=new o.C(this.scene,this.camera),this.bloompass=new y.m(new t.FM8(window.innerWidth,window.innerHeight),5,1,.8),this.composer.addPass(this.renderPass),this.composer.addPass(this.bloompass),this.controls=new r.z(this.camera,this.renderer.domElement),this.controls.update();var s=new t.anP(this.renderer);(new K.I).load("courtyard.exr",(function(i){e.exrCubeRenderTarget=s.fromEquirectangular(i),e.exrBackground=e.exrCubeRenderTarget.texture})),s.compileEquirectangularShader(),(new c.XS).add(d,"Amount",-.001,-.01,1e-8).onChange(this.UpdateRender);var i=new t.cek(16777215,5,100);i.castShadow=!0,i.position.set(3,3,3),this.scene.add(i);var P=new t.xG9(i);this.scene.add(P);var A=new t.PMe(16777215,200,20);A.angle=Math.PI/4,A.position.set(3,15,0),A.lookAt(0,0,0),A.castShadow=!0,A.shadow.camera.near=1,A.shadow.camera.far=this.camera.far,A.shadow.focus=1,A.shadow.mapSize.set(1024,1024),this.scene.add(A);var _=new t.FvO(A);this.scene.add(_);var w=new t.Mig(4210752);w.intensity=5,this.scene.add(w),(new n.E).load("Q2_Model_WIP6.glb",(function(s){var i=e,r=s.scene;r.scale.set(20,20,20),r.traverse((function(e){if(h(e,t.ZAu)&&(i.KeyChronQ2Model=e),h(e,t.Kj0)){console.log(e.name);var s=new t.EJi({map:e.material.map});e.material=s,e.material.roughness=.5,e.material.spacular=.8,e.material.matalness=.9,e.material.envMap=i.exrCubeRenderTarget}})),e.scene.add(r)}))}}])&&P(s.prototype,i),A&&P(s,A),e}()}}]);